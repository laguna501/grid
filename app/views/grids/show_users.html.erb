<div id="show_users">
  <h1><%= @type.to_s.titleize %> Grid</h1>
  <section id="options" class="clearfix">
    <div id="layouts" class="option-set clearfix" data-option-key="layoutMode">
      <h4>Layout: </h4>
      <div id="grid-masonry" class="layouts selected" data-option-value="masonry">masonry</div>
      <div id="grid-fitrows" class="layouts" data-option-value="fitRows">fitRows</div>
    </div>
  </section>

  <div id="filter" class="option-set clearfix" data-option-key="filterMode">
    <div class="filters" data-option-value="*">
      <button id="show-all-user" class="btn btn-small btn-primary" type="button">Show all</button>
    </div>

    <% @user_photos.keys.sort.each do |nickname| %>
      <div class="filters" data-option-value="<%= nickname %>">
        <button id="username-<%= nickname %>" class="btn btn-small" type="button"><%= nickname %></button>
      </div>
    <% end %>
  </div>

  <div id="container" class="infinite-scrolling">
    <% @user_photos.each do |nickname, photos|%>
      <% photos.each do |photo| %>
        <div class="item <%= photo.photo_type %>" owner="<%= nickname %>">
          <%= link_to(
            image_tag(photo.thumbnail),
            show_photo_grids_path(owner: nickname, identifier: photo.identifier), target: "_blank"
          ) %>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
